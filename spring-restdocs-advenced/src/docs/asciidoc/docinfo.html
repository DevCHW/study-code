<script>
    function ready(callbackFunc) {
        if (document.readyState !== 'loading') {
            callbackFunc();
        } else if (document.addEventListener) {
            document.addEventListener('DOMContentLoaded', callbackFunc);
        } else {
            document.attachEvent('onreadystatechange', function () {
                if (document.readyState === 'complete') {
                    callbackFunc();
                }
            });
        }
    }

    function openPopup(event) {
        const target = event.target;
        if (target.className !== "popup") {
            return;
        }

        event.preventDefault();
        const popupWidth = 500;
        const popupHeight = 600;
        const left = (window.innerWidth - popupWidth) / 2 + window.screenX;
        const top = (window.innerHeight - popupHeight) / 2 + window.screenY;

        window.open(target.href, target.text, `left=${left}, top=${top}, width=${popupWidth}, height=${popupHeight}, status=no, menubar=no, toolbar=no, resizable=no`);
    }

    ready(function () {
        const el = document.getElementById("content");
        el.addEventListener("click", event => openPopup(event), false);
    });
</script>